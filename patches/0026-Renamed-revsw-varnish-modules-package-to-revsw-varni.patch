From 1f9eefd4af9ec8ba3f5060af1c74f197bed229d8 Mon Sep 17 00:00:00 2001
From: sorinrevsw <sorin.revsw@gmail.com>
Date: Sun, 28 Dec 2014 15:44:58 +0200
Subject: [PATCH 26/63] Renamed 'revsw-varnish-modules' package to
 'revsw-varnish4-modules'.

---
 debian/changelog                       | 26 +++++++++++++-------------
 debian/control                         |  2 +-
 debian/revsw-varnish-modules.postinst  |  8 --------
 debian/revsw-varnish4-modules.postinst |  8 ++++++++
 debian/rules                           | 12 ++++++------
 5 files changed, 28 insertions(+), 28 deletions(-)
 delete mode 100644 debian/revsw-varnish-modules.postinst
 create mode 100644 debian/revsw-varnish4-modules.postinst

diff --git a/debian/changelog b/debian/changelog
index 0e8bff6..60fd707 100644
--- a/debian/changelog
+++ b/debian/changelog
@@ -1,36 +1,36 @@
-revsw-varnish-modules (0.5) unstable; urgency=medium
+revsw-varnish4-modules (0.5) unstable; urgency=medium
 
   * Varnish 4 VMODs.
 
  -- Sorin Otescu <sorin@revsw.com>  Sat, 27 Dec 2014 12:18:02 +0200
 
-revsw-varnish-modules (0.4-1) unstable; urgency=medium
+revsw-varnish4-modules (0.4-1) unstable; urgency=medium
 
   * Added global version for get/set int, bool, real and duration.
 
  -- Sorin Otescu <sorin@revsw.com>  Wed, 08 Oct 2014 17:56:02 +0300
 
-revsw-varnish-modules (0.4) unstable; urgency=medium
+revsw-varnish4-modules (0.4) unstable; urgency=medium
 
   * Added 'chromelogger' and 'query' VMODs.
   * Added debug package.
 
  -- Sorin Otescu <sorin@revsw.com>  Tue, 30 Sep 2014 21:03:23 +0300
 
-revsw-varnish-modules (0.3-6) unstable; urgency=medium
+revsw-varnish4-modules (0.3-6) unstable; urgency=medium
 
   * Fixed crash in 'var' VMOD.
   * Added 'set_string_allow_null' to 'var' VMOD.
 
  -- Sorin Otescu <sorin@revsw.com>  Thu, 28 Aug 2014 20:30:51 +0300
 
-revsw-varnish-modules (0.3-5) unstable; urgency=medium
+revsw-varnish4-modules (0.3-5) unstable; urgency=medium
 
   * Functions using BOOL now really use BOOL (not INT).
 
  -- Sorin Otescu <sorin@revsw.com>  Mon, 25 Aug 2014 12:44:16 +0300
 
-revsw-varnish-modules (0.3-4) unstable; urgency=medium
+revsw-varnish4-modules (0.3-4) unstable; urgency=medium
 
   * Added 'header' VMOD.
   * Added 'unset', 'set_string_literal' and 'string_set_is_empty'
@@ -38,46 +38,46 @@ revsw-varnish-modules (0.3-4) unstable; urgency=medium
 
  -- Sorin Otescu <sorin@revsw.com>  Thu, 21 Aug 2014 15:07:36 +0300
 
-revsw-varnish-modules (0.3-3) unstable; urgency=medium
+revsw-varnish4-modules (0.3-3) unstable; urgency=medium
 
   * Switched to Varnish-based allocator, allocating memory from 
     session allocator.
 
  -- Sorin Otescu <sorin@revsw.com>  Wed, 20 Aug 2014 15:48:04 +0300
 
-revsw-varnish-modules (0.3-2) unstable; urgency=medium
+revsw-varnish4-modules (0.3-2) unstable; urgency=medium
 
   * Added 'new_string_set', 'add_to_string_set', 'del_from_string_set'
     and 'get_string_set_as_csv' to 'var' VMOD.
 
  -- Sorin Otescu <sorin@revsw.com>  Wed, 13 Aug 2014 16:27:55 +0300
 
-revsw-varnish-modules (0.3-1) unstable; urgency=medium
+revsw-varnish4-modules (0.3-1) unstable; urgency=medium
 
   * Added 'set_bool' 'get_bool', 'and_or_set_bool' and 'or_or_set_bool' 
     to 'var' VMOD.
 
  -- Sorin Otescu <sorin@revsw.com>  Tue, 12 Aug 2014 11:40:51 +0300
 
-revsw-varnish-modules (0.3) unstable; urgency=medium
+revsw-varnish4-modules (0.3) unstable; urgency=medium
 
   * Added 'var' VMOD.
 
  -- Sorin Otescu <sorin@revsw.com>  Fri, 08 Aug 2014 12:26:34 -0700
 
-revsw-varnish-modules (0.2-1) unstable; urgency=medium
+revsw-varnish4-modules (0.2-1) unstable; urgency=medium
 
   * Build-depend on python-docutils.
 
  -- Sorin Otescu <sorin@revsw.com>  Mon, 18 Aug 2014 18:53:45 +0300
 
-revsw-varnish-modules (0.2) unstable; urgency=low
+revsw-varnish4-modules (0.2) unstable; urgency=low
 
   * Added 'filter_only' to 'cookies' module.
 
  -- Sorin Otescu <sorin@revsw.com>  Thu, 07 Aug 2014 16:52:01 -0700
 
-revsw-varnish-modules (0.1) unstable; urgency=low
+revsw-varnish4-modules (0.1) unstable; urgency=low
 
   * First version
 
diff --git a/debian/control b/debian/control
index 56aa83c..4dc12e9 100644
--- a/debian/control
+++ b/debian/control
@@ -1,4 +1,4 @@
-Source: revsw-varnish-modules
+Source: revsw-varnish4-modules
 Section: web
 Priority: extra
 Maintainer: Sorin Otescu <sorin@revsw.com>
diff --git a/debian/revsw-varnish-modules.postinst b/debian/revsw-varnish-modules.postinst
deleted file mode 100644
index aba54ed..0000000
--- a/debian/revsw-varnish-modules.postinst
+++ /dev/null
@@ -1,8 +0,0 @@
-# dh_installdeb will replace this with shell code automatically
-# generated by other debhelper scripts.
-#DEBHELPER#
-
-# Restart listener service if it exists and it is running
-if service revsw-varnish status >/dev/null 2>&1 ; then
-    service revsw-varnish restart
-fi
\ No newline at end of file
diff --git a/debian/revsw-varnish4-modules.postinst b/debian/revsw-varnish4-modules.postinst
new file mode 100644
index 0000000..b9b6aef
--- /dev/null
+++ b/debian/revsw-varnish4-modules.postinst
@@ -0,0 +1,8 @@
+# dh_installdeb will replace this with shell code automatically
+# generated by other debhelper scripts.
+#DEBHELPER#
+
+# Restart listener service if it exists and it is running
+if service revsw-varnish4 status >/dev/null 2>&1 ; then
+    service revsw-varnish4 restart
+fi
\ No newline at end of file
diff --git a/debian/rules b/debian/rules
index 0a1addc..6443b72 100755
--- a/debian/rules
+++ b/debian/rules
@@ -29,11 +29,11 @@ override_dh_auto_build:
 	$(MAKE) -C libvmod-timers-4.0
 
 override_dh_auto_install:
-	$(MAKE) -C libvmod-chromelogger-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish-modules install
-	$(MAKE) -C libvmod-cookie-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish-modules install
-	$(MAKE) -C libvmod-revvar-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish-modules install
-	$(MAKE) -C libvmod-header-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish-modules install
-	$(MAKE) -C libvmod-timers-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish-modules install
+	$(MAKE) -C libvmod-chromelogger-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish4-modules install
+	$(MAKE) -C libvmod-cookie-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish4-modules install
+	$(MAKE) -C libvmod-revvar-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish4-modules install
+	$(MAKE) -C libvmod-header-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish4-modules install
+	$(MAKE) -C libvmod-timers-4.0 DESTDIR=$$(pwd)/debian/revsw-varnish4-modules install
 
 override_dh_auto_clean:
 	$(MAKE) -C libvmod-chromelogger-4.0 distclean || true
@@ -43,7 +43,7 @@ override_dh_auto_clean:
 	$(MAKE) -C libvmod-timers-4.0 distclean || true
 
 override_dh_strip:
-	dh_strip --dbg-package=revsw-varnish-modules-dbg
+	dh_strip --dbg-package=revsw-varnish4-modules-dbg
 
 %:
 	dh $@
-- 
2.7.4

