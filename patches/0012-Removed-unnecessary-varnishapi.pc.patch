From 02537bd0da83786f38bd183c8b23efdeb5eac7c1 Mon Sep 17 00:00:00 2001
From: sorinrevsw <sorin.revsw@gmail.com>
Date: Thu, 18 Dec 2014 17:57:20 +0200
Subject: [PATCH 12/63] * Removed unnecessary varnishapi.pc. * Fixed cleanup
 rule of 'vars' VMOD.

---
 libvmod-var-4.0/man/vmod_example.rst | 91 ------------------------------------
 libvmod-var-4.0/man/vmod_var.rst     | 91 ++++++++++++++++++++++++++++++++++++
 libvmod-var-4.0/src/Makefile.am      |  4 +-
 varnishapi.pc                        | 20 --------
 4 files changed, 92 insertions(+), 114 deletions(-)
 delete mode 100644 libvmod-var-4.0/man/vmod_example.rst
 create mode 100644 libvmod-var-4.0/man/vmod_var.rst
 delete mode 100644 varnishapi.pc

diff --git a/libvmod-var-4.0/man/vmod_example.rst b/libvmod-var-4.0/man/vmod_example.rst
deleted file mode 100644
index c8e91b1..0000000
--- a/libvmod-var-4.0/man/vmod_example.rst
+++ /dev/null
@@ -1,91 +0,0 @@
-============
-vmod_example
-============
-
-----------------------
-Varnish Example Module
-----------------------
-
-:Author: Tollef Fog Heen
-:Date: 2011-09-28
-:Version: 1.0
-:Manual section: 3
-
-SYNOPSIS
-========
-
-import var;
-
-DESCRIPTION
-===========
-
-Association list in VCL. Can be used to mimick variables.
-
-FUNCTIONS
-=========
-
-set_string
-----------
-
-Prototype
-	set_string(STRING S, STRING T)
-        set(STRING S, STRING T) - shorthand
-Return value
-	NONE
-Description
-	Sets the variable identified by S to the value T.
-Example
-	var.set_string("bar", "some random string");
-
-get_string
-----------
-
-Prototype
-	get_string(STRING S)
-        get(STRING S) - shorthand
-Return value
-	STRING
-Description
-	Returns the string identified by the supplied string.
-Example
-	set resp.http.foo = var.get_string("bar");
-
-Similar functions
------------------
-
-There are similar functions named:
-
-* set_int(STRING, INT)
-* get_int(STRING)
-* set_real(STRING, REAL)
-* get_real(STRING)
-* set_duration(STRING, DURATION)
-* get_duration(STRING)
-
-get and set are shorthand for get_string and set_string.
-
-clear
------
-
-Prototype
-	Function VOID clear()
-Returns
-	NONE
-Description
-	Clears out all the variables.
-Example
-	
-
-HISTORY
-=======
-
-This manual page was written by Per Buer. It might contain
-errors. Patches are welcome.
-
-COPYRIGHT
-=========
-
-This document is licensed under the same license as the
-libvmod-example project. See LICENSE for details.
-
-* Copyright (c) 2012 Varnish Software
diff --git a/libvmod-var-4.0/man/vmod_var.rst b/libvmod-var-4.0/man/vmod_var.rst
new file mode 100644
index 0000000..c8e91b1
--- /dev/null
+++ b/libvmod-var-4.0/man/vmod_var.rst
@@ -0,0 +1,91 @@
+============
+vmod_example
+============
+
+----------------------
+Varnish Example Module
+----------------------
+
+:Author: Tollef Fog Heen
+:Date: 2011-09-28
+:Version: 1.0
+:Manual section: 3
+
+SYNOPSIS
+========
+
+import var;
+
+DESCRIPTION
+===========
+
+Association list in VCL. Can be used to mimick variables.
+
+FUNCTIONS
+=========
+
+set_string
+----------
+
+Prototype
+	set_string(STRING S, STRING T)
+        set(STRING S, STRING T) - shorthand
+Return value
+	NONE
+Description
+	Sets the variable identified by S to the value T.
+Example
+	var.set_string("bar", "some random string");
+
+get_string
+----------
+
+Prototype
+	get_string(STRING S)
+        get(STRING S) - shorthand
+Return value
+	STRING
+Description
+	Returns the string identified by the supplied string.
+Example
+	set resp.http.foo = var.get_string("bar");
+
+Similar functions
+-----------------
+
+There are similar functions named:
+
+* set_int(STRING, INT)
+* get_int(STRING)
+* set_real(STRING, REAL)
+* get_real(STRING)
+* set_duration(STRING, DURATION)
+* get_duration(STRING)
+
+get and set are shorthand for get_string and set_string.
+
+clear
+-----
+
+Prototype
+	Function VOID clear()
+Returns
+	NONE
+Description
+	Clears out all the variables.
+Example
+	
+
+HISTORY
+=======
+
+This manual page was written by Per Buer. It might contain
+errors. Patches are welcome.
+
+COPYRIGHT
+=========
+
+This document is licensed under the same license as the
+libvmod-example project. See LICENSE for details.
+
+* Copyright (c) 2012 Varnish Software
diff --git a/libvmod-var-4.0/src/Makefile.am b/libvmod-var-4.0/src/Makefile.am
index feb3ed3..c57ec7c 100644
--- a/libvmod-var-4.0/src/Makefile.am
+++ b/libvmod-var-4.0/src/Makefile.am
@@ -25,6 +25,4 @@ EXTRA_DIST = \
 	vmod_var.vcc \
 	$(VMOD_TESTS)
 
-CLEANFILES = $(builddir)/vcc_if.c $(builddir)/vcc_if.h \
-	$(builddir)/vmod_var.man.rst \
-	$(builddir)/vmod_var.rst
+CLEANFILES = $(builddir)/vcc_if.c $(builddir)/vcc_if.h
\ No newline at end of file
diff --git a/varnishapi.pc b/varnishapi.pc
deleted file mode 100644
index c71434c..0000000
--- a/varnishapi.pc
+++ /dev/null
@@ -1,20 +0,0 @@
-prefix=/home/techvedika/vimal-revsw/eng/enzo/open_source/varnish-4.0.2/debian/tmp/usr
-exec_prefix=${prefix}
-bindir=${exec_prefix}/bin
-sbindir=${exec_prefix}/sbin
-libdir=${prefix}/lib/x86_64-linux-gnu
-includedir=${prefix}/include
-pkgincludedir=${includedir}/varnish
-datarootdir=${prefix}/share
-datadir=${datarootdir}
-pkgdatadir=${datadir}/varnish
-pkgdataincludedir=${pkgdatadir}/include
-vmodincludedir=${pkgdataincludedir}
-vmoddir=${libdir}/varnish/vmods
-vmodtool=${pkgdatadir}/vmodtool.py
-
-Name: VarnishAPI
-Description: Varnish API
-Version: 4.0.2
-Cflags: -I${includedir}/varnish
-Libs: -L${libdir} -lvarnishapi
-- 
2.7.4

